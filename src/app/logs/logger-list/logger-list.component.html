<!--
<div style="margin-left: 10px; margin-right: 10px;">
  <div class="table-responsive">
-->
<div class="shngbody2">

  <tabset #staticTabs>
    <tab customClass="tab-shng" heading="{{ 'LOGGERS.LOGICS'|translate }}">
      <div class="tab-content-services">
        <table class="table table-striped table-hover loggerList">
          <thead border="0">
            <tr class="shng_heading">
              <th class="py-1" style="border: 0px;">{{ 'LOGGERS.LOGGER_NAME'|translate }}</th>
               <th class="py-1" style="border: 0px;">{{ 'LOGGERS.LEVEL'|translate }}</th>
              <th class="py-1" style="border: 0px;">{{ 'LOGGERS.HANDLERS'|translate }}</th>
              <th class="py-1" style="border: 0px;">{{ 'LOGGERS.HANDLER_TYPES'|translate }}</th>
              <th class="py-1" style="border: 0px;">{{ 'LOGGERS.LOGFILES'|translate }}</th>
            </tr>
            </thead>
          <tbody>
            <ng-container *ngFor="let l of loggersList">
              <ng-container *ngIf="l.startsWith('logics.') || l === 'logics'">
                <ng-container *ngIf="loggers[l].level !== undefined">
                  <tr>
                    <td class="py-1">{{ l }}</td>
                    <td class="py-1">
                      <p-dropdown [options]="levelOptions" [showClear]="false" placeholder="{{levelDefault}}" [(ngModel)]="loggers[l].active.level" (ngModelChange)="levelChanged(l, $event)"></p-dropdown>
                    </td>
                    <td class="py-1">
                      <ng-container *ngIf="loggers[l].handlers !== undefined">
                        <ng-container *ngFor="let h of loggers[l].handlers; let i = index">
                          <a>{{ h }}</a>
                          <ng-container *ngIf="h !== '' && i < loggers[l].handlers.length - 1">,<br></ng-container>
                        </ng-container>
                      </ng-container>
                      <ng-container *ngIf="loggers[l].handlers === undefined">
                        <a>( --> {{ l.split('.')[0] }} )</a>
                      </ng-container>
                    </td>

                    <td class="py-1">
                      <ng-container *ngFor="let ah of loggers[l].active.handlers; let i = index">
                        <a>{{ ah }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].active.handlers.length - 1">,<br></ng-container>
                      </ng-container>
                    </td>

                    <td class="py-1">
                      <ng-container *ngFor="let fn of loggers[l].active.logfiles; let i = index">
                        <a class="text-shng" [routerLink]="['/logs/display', this.baseName(fn)]">{{ this.baseName(fn) }}</a>
                        <ng-container *ngIf="fn !== '' && i < loggers[l].active.logfiles.length - 1 && loggers[l].active.logfiles[i+1] !=''">,<br></ng-container>
                      </ng-container>
                    </td>
                  </tr>
                </ng-container>
              </ng-container>
            </ng-container>

          </tbody>
          <tfoot>
            <br><br><br><br><br>
          </tfoot>
        </table>
      </div>
    </tab>

    <tab customClass="tab-shng" heading="{{ 'LOGGERS.PLUGINS'|translate }}">
      <div class="tab-content-services">
        <button pButton type="button" style="margin-left: 0px; margin-top: 5px; font-size: medium;" id="newLoggerButton" [disabled]="false" (click)="newLogger();" icon="fa fa-plus" label="{{ 'BUTTON.NEW_LOGGER'|translate }}" class="ui-button-success float-sm-left"></button>
        <table class="table table-striped table-hover loggerList">
        <thead>
          <tr class="shng_heading">
            <th class="py-1" style="border-top: 0;">{{ 'LOGGERS.LOGGER_NAME'|translate }}</th>
            <th class="py-1" style="border: 0px;">{{ 'LOGGERS.LEVEL'|translate }}</th>
            <th class="py-1" style="border: 0px;">{{ 'LOGGERS.HANDLERS'|translate }}</th>
            <th class="py-1" style="border: 0px;">{{ 'LOGGERS.HANDLER_TYPES'|translate }}</th>
            <th class="py-1" style="border: 0px;">{{ 'LOGGERS.LOGFILES'|translate }}</th>
            <th class="py-1" style="border: 0px;">{{ 'LOGGERS.ACTION'|translate }}</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let l of loggersList">
            <ng-container *ngIf="l.startsWith('plugins.') || l === 'plugins'">
              <ng-container *ngIf="loggers[l].level !== undefined">
                <tr>
                  <ng-container *ngIf="plugin_loaded(l)">
                    <td class="py-1">{{ l }}</td>
                    <td class="py-1">
                      <p-dropdown [options]="levelOptions" [showClear]="false" placeholder="{{levelDefault}}" [(ngModel)]="loggers[l].active.level" (ngModelChange)="levelChanged(l, $event)"></p-dropdown>
                    </td>
                    <td class="py-1">
                      <ng-container *ngFor="let h of loggers[l].handlers; let i = index">
                        <a>{{ h }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].handlers.length - 1">,<br></ng-container>
                      </ng-container>
                      <ng-container *ngIf="loggers[l].handlers === undefined">
                        <a>( --> {{ l.split('.')[0] }} )</a>
                      </ng-container>
                    </td>
                    <td class="py-1">
                      <ng-container *ngFor="let ah of loggers[l].active.handlers; let i = index">
                        <a>{{ ah }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].active.handlers.length - 1">,<br></ng-container>
                      </ng-container>
                    </td>

                  </ng-container>
                  <ng-container *ngIf="!plugin_loaded(l)">
                    <td class="py-1" style="color:darkgrey">{{ l }}</td>
                    <td class="py-1" style="color:darkgrey">
                      <a>{{ loggers[l].active.level }}</a>
                      <!--
                      <p-dropdown [options]="levelOptions" [showClear]="false" placeholder="{{levelDefault}}" [(ngModel)]="loggers[l].active.level" (ngModelChange)="levelChanged(l, $event)"></p-dropdown>
                      -->
                    </td>
                    <td class="py-1" style="color:darkgrey">
                      <ng-container *ngFor="let h of loggers[l].handlers; let i = index">
                        <a>{{ h }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].handlers.length - 1">,<br></ng-container>
                      </ng-container>
                      <ng-container *ngIf="loggers[l].handlers === undefined">
                        <a>( --> {{ l.split('.')[0] }} )</a>
                      </ng-container>
                    </td>
                    <td class="py-1" style="color:darkgrey">
                      <ng-container *ngFor="let ah of loggers[l].active.handlers; let i = index">
                        <a>{{ ah }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].active.handlers.length - 1">,<br></ng-container>
                      </ng-container>
                    </td>
                  </ng-container>


                  <td class="py-1">
                    <ng-container *ngFor="let fn of loggers[l].active.logfiles; let i = index">
                      <a class="text-shng" [routerLink]="['/logs/display', this.baseName(fn)]">{{ this.baseName(fn) }}</a>
                      <ng-container *ngIf="fn !== '' && i < loggers[l].active.logfiles.length - 1 && loggers[l].active.logfiles[i+1] !=''">,<br></ng-container>
                    </ng-container>
                  </td>

                  <td class="py-1">
                    <ng-container *ngIf="loggerIsDeletable(l)">
                      <button name="delete" title="{{ 'LOGGER.DELETE'|translate }}" class="btn btn-outline-danger btn-sm" (click)="deleteLogger(l);"><i class="far fa-trash-alt" aria-hidden="true" style="color: var(--shng-red);"></i></button>
                    </ng-container>
                  </td>
                </tr>
              </ng-container>
            </ng-container>
          </ng-container>

        </tbody>
        <tfoot>
          <br><br><br><br><br>
        </tfoot>
      </table>
      </div>
    </tab>

    <tab customClass="tab-shng" heading="{{ 'LOGGERS.ITEMS'|translate }}">
      <div class="tab-content-services">
        <table class="table table-striped table-hover loggerList">
          <thead border="0">
          <tr class="shng_heading">
            <th style="border: 0px;">{{ 'LOGGERS.LOGGER_NAME'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.LEVEL'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.HANDLERS'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.HANDLER_TYPES'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.LOGFILES'|translate }}</th>
          </tr>
          </thead>
          <tbody>
          <ng-container *ngFor="let l of loggersList">
            <ng-container *ngIf="l.startsWith('items.') || l === 'items'">
              <ng-container *ngIf="loggers[l].level !== undefined">
                <tr>
                  <td class="py-1">{{ l }}</td>
                  <td class="py-1">
                    <p-dropdown [options]="levelOptions" [showClear]="false" placeholder="{{levelDefault}}" [(ngModel)]="loggers[l].active.level" (ngModelChange)="levelChanged(l, $event)"></p-dropdown>
                  </td>
                  <td class="py-1">
                    <ng-container *ngIf="loggers[l].handlers !== undefined">
                      <ng-container *ngFor="let h of loggers[l].handlers; let i = index">
                        <a>{{ h }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].handlers.length - 1">,<br></ng-container>
                      </ng-container>
                    </ng-container>
                    <ng-container *ngIf="loggers[l].handlers === undefined">
                      <a>( --> {{ l.split('.')[0] }} )</a>
                    </ng-container>
                  </td>

                  <td class="py-1">
                    <ng-container *ngFor="let ah of loggers[l].active.handlers; let i = index">
                      <a>{{ ah }}</a>
                      <ng-container *ngIf="h !== '' && i < loggers[l].active.handlers.length - 1">,<br></ng-container>
                    </ng-container>
                  </td>

                  <td class="py-1">
                    <ng-container *ngFor="let fn of loggers[l].active.logfiles; let i = index">
                      <a class="text-shng" [routerLink]="['/logs/display', this.baseName(fn)]">{{ this.baseName(fn) }}</a>
                      <ng-container *ngIf="fn !== '' && i < loggers[l].active.logfiles.length - 1 && loggers[l].active.logfiles[i+1] !=''">,<br></ng-container>
                    </ng-container>
                  </td>
                </tr>
              </ng-container>
            </ng-container>
          </ng-container>

          </tbody>
          <tfoot>
          <br><br><br><br><br>
          </tfoot>
        </table>
      </div>
    </tab>

    <tab customClass="tab-shng" heading="{{ 'LOGGERS.ADVANCED'|translate }}">
      <div class="tab-content-services">
        <table class="table table-striped table-hover loggerList">
        <thead>
          <tr class="shng_heading">
            <th style="border: 0px;">{{ 'LOGGERS.LOGGER_NAME'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.LEVEL'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.HANDLERS'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.HANDLER_TYPES'|translate }}</th>
            <th style="border: 0px;">{{ 'LOGGERS.LOGFILES'|translate }}</th>
          </tr>
        </thead>
        <tbody>
         <ng-container *ngIf="loggers !== undefined">
            <tr>
              <td class="py-1"><strong>root</strong></td>
              <td class="py-1"><strong>{{ loggers['root'].active.level }}</strong></td>
              <td class="py-1">
                <ng-container *ngIf="loggers['root'].handlers">
                  <ng-container *ngFor="let h of loggers['root'].handlers; let i = index">
                    <a>{{ h }}</a>
                    <ng-container *ngIf="h !== '' && i < loggers['root'].handlers.length - 1">,<br></ng-container>
                  </ng-container>
                </ng-container>
              </td>

              <td class="py-1">
                <ng-container *ngFor="let ah of loggers['root'].active.handlers; let i = index">
                  <a>{{ ah }}</a>
                  <ng-container *ngIf="h !== '' && i < loggers['root'].active.handlers.length - 1">,<br></ng-container>
                </ng-container>
              </td>

              <td class="py-1">
                <ng-container *ngFor="let fn of loggers['root'].active.logfiles; let i = index">
                  <a class="text-shng" [routerLink]="['/logs/display', this.baseName(fn)]">{{ this.baseName(fn) }}</a>
                  <ng-container *ngIf="fn !== '' && i < loggers['root'].active.logfiles.length - 1 && loggers['root'].active.logfiles[i+1] !=''">,<br></ng-container>
                </ng-container>
              </td>
            </tr>
          </ng-container>

          <ng-container *ngFor="let l of loggersList">
            <ng-container *ngIf="l.startsWith('lib.') || l.startsWith('modules.') || l === 'lib' || l === 'modules' || l === '__main__'">
              <ng-container *ngIf="loggers[l].level !== undefined">
                <tr>
                  <td class="py-1">{{ l }}</td>
                  <ng-container *ngIf="l !== '__main__'">
                    <td class="py-1">
                      <p-dropdown [options]="levelOptions" [showClear]="false" placeholder="{{levelDefault}}" [(ngModel)]="loggers[l].active.level" (ngModelChange)="levelChanged(l, $event)"></p-dropdown>
                    </td>
                  </ng-container>
                  <ng-container *ngIf="l === '__main__'">
                    <td class="py-1">{{ loggers[l].active.level }}</td>
                  </ng-container>

                  <td class="py-1">
                    <ng-container *ngIf="loggers[l].handlers">
                      <ng-container *ngFor="let h of loggers[l].handlers; let i = index">
                        <a>{{ h }}</a>
                        <ng-container *ngIf="h !== '' && i < loggers[l].handlers.length - 1">,<br></ng-container>
                      </ng-container>
                    </ng-container>
                    <ng-container *ngIf="loggers[l].handlers === undefined">
                      <a>( --> {{ l.split('.')[0] }} )</a>
                    </ng-container>
                  </td>

                <td class="py-1">
                  <ng-container *ngIf="loggers[l].active !== undefined">
                    <ng-container *ngFor="let ah of loggers[l].active.handlers; let i = index">
                      <a>{{ ah }}</a>
                      <ng-container *ngIf="h !== '' && i < loggers[l].active.handlers.length - 1">,<br></ng-container>
                    </ng-container>
                  </ng-container>
                </td>

                <td class="py-1">
                  <ng-container *ngIf="loggers[l].active !== undefined">
                    <ng-container *ngFor="let fn of loggers[l].active.logfiles; let i = index">
                      <a class="text-shng" [routerLink]="['/logs/display', this.baseName(fn)]">{{ this.baseName(fn) }}</a>
                      <ng-container *ngIf="fn !== '' && i < loggers[l].active.logfiles.length - 1 && loggers[l].active.logfiles[i+1] !=''">,<br></ng-container>
                      <!--        <a class="text-shng" href="log_view.html?logfile={{ get_basename(fn) }}">{{ fn }}</a>  -->
                    </ng-container>
                  </ng-container>
                </td>
              </tr>
              </ng-container>
            </ng-container>
          </ng-container>

        </tbody>
        <tfoot>
          <br><br><br><br><br>
        </tfoot>
      </table>
      </div>
    </tab>

    <tab customClass="tab-shng" heading="{{ 'LOGGERS.CUSTOM'|translate }}">
      <div class="tab-content-services">
        <table class="table table-striped table-hover loggerList">
        <thead>
        <tr class="shng_heading">
          <th style="border: 0px;">{{ 'LOGGERS.LOGGER_NAME'|translate }}</th>
          <th style="border: 0px;">{{ 'LOGGERS.LEVEL'|translate }}</th>
          <th style="border: 0px;">{{ 'LOGGERS.HANDLERS'|translate }}</th>
          <th style="border: 0px;">{{ 'LOGGERS.HANDLER_TYPES'|translate }}</th>
          <th style="border: 0px;">{{ 'LOGGERS.LOGFILES'|translate }}</th>
        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let l of loggersList">
          <ng-container *ngIf="!(l.startsWith('items.') || l.startsWith('logics.') || l === 'items' || l === 'logics' || l.startsWith('plugins.') || l === 'plugins' || l.startsWith('lib.') || l.startsWith('modules.') || l === 'lib' || l === 'modules' || l === 'root' || l === '__main__' )">
            <ng-container *ngIf="loggers[l].level !== undefined">
            <tr>
              <td class="py-1">{{ l }}</td>
              <td class="py-1">
                <p-dropdown [options]="levelOptions" [showClear]="false" placeholder="{{levelDefault}}" [(ngModel)]="loggers[l].active.level" (ngModelChange)="levelChanged(l, $event)"></p-dropdown>
              </td>
<!--
              <td class="py-1">
                <ng-container *ngFor="let f of loggers[l].filters; let i = index">
                  <a>{{ f }}</a>
                  <ng-container *ngIf="h !== '' && i < loggers[l].filters.length - 1">,<br></ng-container>
                </ng-container>
              </td>
-->
              <td class="py-1">
                <ng-container *ngFor="let h of loggers[l].handlers; let i = index">
                  <a>{{ h }}</a>
                  <ng-container *ngIf="h !== '' && i < loggers[l].handlers.length - 1">,<br></ng-container>
                </ng-container>
              </td>

              <td class="py-1">
                <ng-container *ngFor="let ah of loggers[l].active.handlers; let i = index">
                  <a>{{ ah }}</a>
                  <ng-container *ngIf="h !== '' && i < loggers[l].active.handlers.length - 1">,<br></ng-container>
                </ng-container>
              </td>

              <td class="py-1">
                <ng-container *ngFor="let fn of loggers[l].active.logfiles; let i = index">
                  <a class="text-shng" [routerLink]="['/logs/display', this.baseName(fn)]">{{ this.baseName(fn) }}</a>
                  <ng-container *ngIf="fn !== '' && i < loggers[l].active.logfiles.length - 1 && loggers[l].active.logfiles[i+1] !=''">,<br></ng-container>
                </ng-container>
              </td>
            </tr>
          </ng-container>
          </ng-container>
        </ng-container>

        </tbody>
        <tfoot>
          <br><br><br><br><br>
        </tfoot>
      </table>
      </div>
    </tab>

    </tabset>
<!--
  </div>
-->
</div>


<!--
  -- Confirm dialog vor configuration deletion
  -->
<p-dialog header="" [(visible)]="confirmdelete_display" [modal]="true" blockScroll="true">
  <p-header>
    {{'LOGGERS.DELETE_LOGGER'|translate}}
  </p-header>
  <br>
  {{'LOGGERS.DELETE_LOGGER_TEXT'|translate:delete_param}}
  <br>
  <br>
  <p-footer>
    <button pButton type="button" icon="fa fa-trash-alt" (click)="deleteLoggerConfirm()" label="{{'BUTTON.DELETE'|translate}}" class="ui-button-danger"></button>
    <button pButton type="button" icon="fa fa-times" (click)="deleteLoggerAbort()" label="{{'BUTTON.ABORT'|translate}}" class="ui-button-secondary"></button>
  </p-footer>
</p-dialog>


<!--
  -- Dialog for entering logic name and logic filename of a new logic
  -->

<p-dialog
        header=""
        [(visible)]="newlogger_display"
        [modal]="true"
        blockScroll="true"
        [closable]="false"
        [maximizable]="false"
        [minY]="100"
        [style]="{'width':'600px', 'minWidth':'600px', 'minHeight':'450px'}"
>

  <p-header>
    {{'LOGGERS.CREATE_LOGGER'|translate}}
  </p-header>

  {{'LOGGERS.CREATE_LOGGER_TEXT'|translate}}
  <br>
  <br>
  <label style="display: block;">
    <span style="display: inline-block; width: 120px;">{{ 'LOGGERS.LOGGER_NAME'|translate }}:</span>

    <p-dropdown [options]="loggerOptions" [showClear]="false" placeholder="{{'none selected'}}" [(ngModel)]="this.newlogger_name" (ngModelChange)="newLoggerSelected($event)"></p-dropdown>
<!--
    <input [(ngModel)]="newlogger_name" id="nlog" type="text" (input)="checkNewLogicInput();" pInputText placeholder="" style="position: absolute; margin-left: 60px; width: 250px" [ngStyle]="{'width': 30}" autofocus/>
-->
  </label>
  <br><br>
  <br><br>
  <br><br>
  <br><br>
  <br>
  <alert *ngIf="this.noLoggerToAdd" type="danger" [dismissible]="true" (onClosed)="this.wrongNewLogicName=''" class="mt-2" id="newLogicsAlert">
    {{ 'LOGGERS.NO_LOGGER_TO_ADD'|translate }}
  </alert>
  <p-footer>
    <button pButton type="button" id="createLoggerButton" icon="pi pi-check" (click)="this.createLogger()" [(disabled)]="!newlogger_add_enabled" label="{{'BUTTON.CREATE'|translate}}" class="ui-button-success" autofocus></button>
    <button pButton type="button" id="cancleCreateLoggerButton" icon="pi pi-times" (click)="newlogger_display=false" label="{{'BUTTON.ABORT'|translate}}" class="ui-button-secondary"></button>
  </p-footer>
</p-dialog>

